// structure among users and item preferences (structured output)

// In Good reads, we see multiple users interactions with an item
// including date added to shelf, reading progress, rating score, and review text
// The rules in this group are ordered by what we would expect to see in order of the most implicit to most
// explicit form of feedback from a user reflecting their latent preference of the item
// targeted is a block that determines whether we observed or will be evaluating the users predicted preference for the
// item
// preference is the latent variable representing the users preference of the item
// we are going to be using preference for the final ranking, which will be evaluated using
1.0 : targeted(U,I1) & targeted(U,I2) & shelved(U,I) >> preference(U,I)^2
1.0 : targeted(U,I1) & targeted(U,I2) & read(U,I) >> preference(U,I)^2
1.0 : targeted(U,I1) & targeted(U,I2) & rating(U,I) >> preference(U,I)^2
1.0 : targeted(U,I1) & targeted(U,I2) & review(U,I) >> preference(U,I)^2

// Collaborative filtering groups
// ranking metrics such as NDCG rather than squared loss of rating predictions for example.
1.0 : targeted(U,I1) & targeted(U,I2) & shelved(U,I1) & item_collab_filter_cosine(I1,I2) >> preference(U,I2)^2
1.0 : targeted(U,I1) & targeted(U,I2) & read(U,I1) & item_collab_filter_cosine(I1,I2) >> preference(U,I2)^2
1.0 : targeted(U,I1) & targeted(U,I2) & rating(U,I1) & item_collab_filter_cosine(I1,I2) >> preference(U,I2)^2
1.0 : targeted(U,I1) & targeted(U,I2) & review(U,I1) & item_collab_filter_cosine(I1,I2) >> preference(U,I2)^2
1.0 : targeted(U,I1) & targeted(U,I2) & preference(U,I1) & item_collab_filter_cosine(I1,I2) >> preference(U,I2)^2

// Cosine Similarity between users.
1.0 : targeted(U1,I) & targeted(U2,I) & shelved(U1,I) & user_collab_filter_cosine(U1,U2) >> preference(U2,I)^2
1.0 : targeted(U1,I) & targeted(U2,I) & read(U1,I) & user_collab_filter_cosine(U1,U2) >> preference(U2,I)^2
1.0 : targeted(U1,I) & targeted(U2,I) & rating(U1,I) & user_collab_filter_cosine(U1,U2) >> preference(U2,I)^2
1.0 : targeted(U1,I) & targeted(U2,I) & review(U1,I) & user_collab_filter_cosine(U1,U2) >> preference(U2,I)^2
1.0 : targeted(U1,I) & targeted(U2,I) & preference(U1,I) & user_collab_filter_cosine(U1,U2) >> preference(U2,I)^2

// Average user preferences over authors and genres.
// Note: preprocess so continuously observed predicates are standardized so mean is 0.5 and
// 0 and 1 are 2 std deviations away from mean for each user.
// Then every persons ratings and reviews are in the same units and can be propagated.

// structure among users and items (structured input)
1.0 : targeted(U,I1) & targeted(U,I2) & preference(U,I1) & authored(A, I1) & authored(A, I2) >> preference(U,I2)^2
1.0 : targeted(U,I1) & targeted(U,I2) & preference(U,I1) & series(S, I1) & series(S, I2) >> preference(U,I2)^2
1.0 : targeted(U,I1) & targeted(U,I2) & preference(U,I1) & genre(G, I1) & genre(G, I2) >> preference(U,I2)^2
